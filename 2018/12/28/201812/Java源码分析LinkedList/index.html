<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <link rel="dns-prefetch" href="http://example.com">
  
  <title>Java源码分析--LinkedList | Hexo</title>
  <meta name="author" content="Gavin">
  
  <meta name="description" content="介绍LinkedList是一个双向链表，可以从头部和尾部对LinkedList进行遍历。
源码定义1234public class LinkedList&amp;lt;E&amp;gt;    extends AbstractSequentialList&amp;lt;E&amp;gt;    implements List&amp;lt">
  
  
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

  <meta property="og:title" content="Java源码分析--LinkedList"/>
  <meta property="og:site_name" content="Hexo"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">

  <link rel="preload" as="style" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">
  <link href="https://unpkg.com" rel="dns-prefetch" />
  <link href="https://busuanzi.ibruce.info" rel="dns-prefetch" />
  <link href="https://cdn1.lncld.net" rel="dns-prefetch" />
  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div class="container">
    <div class="left-col" style="background-image:url('https://www.gwt.fun/img/sider.jpg')">
      <div class="intrude-less">
        <header id="header" class="inner">
          <a href="/">
            <div class="profilepic"><img src='https://www.gwt.fun/img/user.png'></div>
          </a>
          <div class="author-name"><a href="/">Gavin</a></div>
          
          <nav id="main-nav">
            <ul class="main">
              
              <li>
                
                  <a href="/archives">归档</a>
                
              </li>
              
              <li>
                
                  <a href="/tags">专题</a>
                
              </li>
              
              <li>
                
                  <a href="/friendlinks">友链</a>
                
              </li>
              
              <li>
                
                  <a href="/life">关于</a>
                
              </li>
              
              <li>
                
                  <a href="/search">搜索</a>
                
              </li>
              
            </ul>
          </nav>
          <nav id="sub-nav">
            <div class="social">
              
              
              
              <a class="github" target="_blank" rel="noopener" href="https://github.com/" title="Github">Github</a>
              
              

              
              <a class="rss" href="/atom.xml" title="RSS">RSS</a>
              
            </div>
          </nav>
        </header>
      </div>
    </div>
    <div class="mid-col">
      <div class="mid-col-container">
        <div id="content" class="inner">
          <article class="post">

  
    <div class="meta">
      
<div class="date">

<time datetime="2018-12-27T20:51:04.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  2018-12-28
</time>





</div>

    </div>
  
  <h1 class="title" itemprop="name">Java源码分析--LinkedList</h1>
  <div class="entry-content" itemprop="articleBody">
    
    <div class="post-toc">
      <div class="toc-title">TOC</div>
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%A0%81"><span class="toc-number">2.</span> <span class="toc-text">源码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">2.0.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Node%E7%BB%93%E7%82%B9"><span class="toc-number">2.0.2.</span> <span class="toc-text">Node结点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F"><span class="toc-number">2.0.3.</span> <span class="toc-text">成员变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">2.0.4.</span> <span class="toc-text">构造方法</span></a></li></ol></li></ol></li></ol>
    </div>
    
    <h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p><img src="/img/blog/1256203-20180107143446956-993921609.png" alt="Alt text"><br>LinkedList是一个双向链表，可以从头部和尾部对LinkedList进行遍历。</p>
<h3 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h3><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public class LinkedList&lt;E&gt;</span><br><span class="line">    extends AbstractSequentialList&lt;E&gt;</span><br><span class="line">    implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>LinkedList继承了AbstractSequentialList类，实现了List、Deque（双端队列）、Cloneable（克隆）和java.io.Serializable接口；</p>
<h5 id="Node结点"><a href="#Node结点" class="headerlink" title="Node结点"></a>Node结点</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private static class Node&lt;E&gt; &#123;</span><br><span class="line">    E item;      &#x2F;&#x2F;存储的数据</span><br><span class="line">    Node&lt;E&gt; next;  &#x2F;&#x2F;后继结点</span><br><span class="line">    Node&lt;E&gt; prev;  &#x2F;&#x2F;前驱结点</span><br><span class="line"></span><br><span class="line">    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">        this.item &#x3D; element;</span><br><span class="line">        this.next &#x3D; next;</span><br><span class="line">        this.prev &#x3D; prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从Node结点可以看出来，定义了前驱和后继结点，并且存在带参数的构造函数，也就是说创建一个Node结点必须提供元素值和前驱和后继的结点。</p>
<h5 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">transient int size &#x3D; 0;&#x2F;&#x2F;LinkedList中元素个数</span><br><span class="line"></span><br><span class="line">transient Node&lt;E&gt; first;&#x2F;&#x2F;LinkedList第一个结点</span><br><span class="line"></span><br><span class="line">transient Node&lt;E&gt; last;&#x2F;&#x2F;LinkedList最后一个结点</span><br></pre></td></tr></table></figure>
<h5 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public LinkedList() &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不带参数的构造函数。创建了一个空的LinkedList。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public LinkedList(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">    this();</span><br><span class="line">    addAll(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>带Collection参数的构造方法。首先this()调用无参的构造函数，创建一个空的LinkedList，然后执行addAll()函数，接下来看一下然后执行addAll()函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">  public boolean addAll(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">      return addAll(size, c);  &#x2F;&#x2F;继续看下面的addAll()函数</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;**</span><br><span class="line">* @param index 要插入数据的位置</span><br><span class="line">*&#x2F;</span><br><span class="line">  public boolean addAll(int index, Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">      checkPositionIndex(index);&#x2F;&#x2F;验证index的参数是否合法</span><br><span class="line"></span><br><span class="line">      Object[] a &#x3D; c.toArray();   &#x2F;&#x2F;Collection集合转为对象数组</span><br><span class="line">      int numNew &#x3D; a.length;</span><br><span class="line">      if (numNew &#x3D;&#x3D; 0)            &#x2F;&#x2F;判断要插入数据的长度</span><br><span class="line">          return false;</span><br><span class="line">  </span><br><span class="line">      &#x2F;&#x2F;这里是两种情况，一个是在链表最后追加数据，一个是在链表内插入数据</span><br><span class="line">      Node&lt;E&gt; pred, succ;&#x2F;&#x2F;pred是前驱结点，succ是后继结点</span><br><span class="line">      if (index &#x3D;&#x3D; size) &#123; </span><br><span class="line">          succ &#x3D; null;</span><br><span class="line">          pred &#x3D; last;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          succ &#x3D; node(index);</span><br><span class="line">          pred &#x3D; succ.prev;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      for (Object o : a) &#123;</span><br><span class="line">          @SuppressWarnings(&quot;unchecked&quot;) E e &#x3D; (E) o;</span><br><span class="line">          Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(pred, e, null);</span><br><span class="line">          if (pred &#x3D;&#x3D; null)&#x2F;&#x2F;如果添加的结点是第一个结点，first指向这个结点</span><br><span class="line">              first &#x3D; newNode;</span><br><span class="line">          else</span><br><span class="line">              pred.next &#x3D; newNode;</span><br><span class="line">          pred &#x3D; newNode;</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F;这里也是两种情况的处理，succ对应上面，表示在链表最后追加的数据，直接将last指向最后一个即可。另一种情况是在链表中间插入数据，这里需要将链表后面的数据连接上。</span><br><span class="line">      if (succ &#x3D;&#x3D; null) &#123;</span><br><span class="line">          last &#x3D; pred;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          pred.next &#x3D; succ;</span><br><span class="line">          succ.prev &#x3D; pred;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      size +&#x3D; numNew; &#x2F;&#x2F;改变链表大小</span><br><span class="line">      modCount++; &#x2F;&#x2F;表示链表已经修改过</span><br><span class="line">      return true;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F;返回下标为index的结点</span><br><span class="line">  Node&lt;E&gt; node(int index) &#123;</span><br><span class="line">      &#x2F;&#x2F; assert isElementIndex(index);</span><br><span class="line">      </span><br><span class="line">      if (index &lt; (size &gt;&gt; 1)) &#123;</span><br><span class="line">          Node&lt;E&gt; x &#x3D; first;</span><br><span class="line">          for (int i &#x3D; 0; i &lt; index; i++)</span><br><span class="line">              x &#x3D; x.next;</span><br><span class="line">          return x;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          Node&lt;E&gt; x &#x3D; last;</span><br><span class="line">          for (int i &#x3D; size - 1; i &gt; index; i--)</span><br><span class="line">              x &#x3D; x.prev;</span><br><span class="line">          return x;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>继续向下看：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 将e插入在链表的开头</span><br><span class="line"> *&#x2F;</span><br><span class="line">private void linkFirst(E e) &#123;</span><br><span class="line">    final Node&lt;E&gt; f &#x3D; first;</span><br><span class="line">    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(null, e, f);&#x2F;&#x2F;创建一个新的结点</span><br><span class="line">    first &#x3D; newNode;   </span><br><span class="line">    if (f &#x3D;&#x3D; null)  &#x2F;&#x2F;如果原来的链表是null，表示插入的这个结点是头结点也是尾结点</span><br><span class="line">        last &#x3D; newNode;</span><br><span class="line">    else</span><br><span class="line">        f.prev &#x3D; newNode;</span><br><span class="line">    size++;</span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 将e插入在链表的队尾</span><br><span class="line"> *&#x2F;</span><br><span class="line">void linkLast(E e) &#123;</span><br><span class="line">    final Node&lt;E&gt; l &#x3D; last;</span><br><span class="line">    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(l, e, null);</span><br><span class="line">    last &#x3D; newNode;</span><br><span class="line">    if (l &#x3D;&#x3D; null)</span><br><span class="line">        first &#x3D; newNode;</span><br><span class="line">    else</span><br><span class="line">        l.next &#x3D; newNode;</span><br><span class="line">    size++;</span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 将e插入在succ结点之前</span><br><span class="line"> *&#x2F;</span><br><span class="line">void linkBefore(E e, Node&lt;E&gt; succ) &#123;</span><br><span class="line">    &#x2F;&#x2F; assert succ !&#x3D; null;</span><br><span class="line">    final Node&lt;E&gt; pred &#x3D; succ.prev;</span><br><span class="line">    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(pred, e, succ);</span><br><span class="line">    succ.prev &#x3D; newNode;</span><br><span class="line">    if (pred &#x3D;&#x3D; null)</span><br><span class="line">        first &#x3D; newNode;</span><br><span class="line">    else</span><br><span class="line">        pred.next &#x3D; newNode;</span><br><span class="line">    size++;</span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 删除第一个结点，默认f &#x3D;&#x3D; first &amp;&amp; f !&#x3D; null;</span><br><span class="line"> *&#x2F;</span><br><span class="line">private E unlinkFirst(Node&lt;E&gt; f) &#123;</span><br><span class="line">    &#x2F;&#x2F; assert f &#x3D;&#x3D; first &amp;&amp; f !&#x3D; null;</span><br><span class="line">    final E element &#x3D; f.item;   &#x2F;&#x2F;获取出来第一个结点的数据</span><br><span class="line">    final Node&lt;E&gt; next &#x3D; f.next; </span><br><span class="line">    f.item &#x3D; null;</span><br><span class="line">    f.next &#x3D; null; &#x2F;&#x2F; help GC</span><br><span class="line">    first &#x3D; next;   &#x2F;&#x2F;将first指向第二个结点</span><br><span class="line">    if (next &#x3D;&#x3D; null)</span><br><span class="line">        last &#x3D; null;</span><br><span class="line">    else</span><br><span class="line">        next.prev &#x3D; null;</span><br><span class="line">    size--;</span><br><span class="line">    modCount++;</span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 删除最后一个结点</span><br><span class="line"> *&#x2F;</span><br><span class="line">private E unlinkLast(Node&lt;E&gt; l) &#123;</span><br><span class="line">    &#x2F;&#x2F; assert l &#x3D;&#x3D; last &amp;&amp; l !&#x3D; null;</span><br><span class="line">    final E element &#x3D; l.item;</span><br><span class="line">    final Node&lt;E&gt; prev &#x3D; l.prev;</span><br><span class="line">    l.item &#x3D; null;</span><br><span class="line">    l.prev &#x3D; null; &#x2F;&#x2F; help GC</span><br><span class="line">    last &#x3D; prev;</span><br><span class="line">    if (prev &#x3D;&#x3D; null)</span><br><span class="line">        first &#x3D; null;</span><br><span class="line">    else</span><br><span class="line">        prev.next &#x3D; null;</span><br><span class="line">    size--;</span><br><span class="line">    modCount++;</span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 删除结点x</span><br><span class="line"> *&#x2F;</span><br><span class="line">E unlink(Node&lt;E&gt; x) &#123;</span><br><span class="line">    &#x2F;&#x2F; assert x !&#x3D; null;</span><br><span class="line">    final E element &#x3D; x.item;</span><br><span class="line">    final Node&lt;E&gt; next &#x3D; x.next;</span><br><span class="line">    final Node&lt;E&gt; prev &#x3D; x.prev;</span><br><span class="line"></span><br><span class="line">    if (prev &#x3D;&#x3D; null) &#123;</span><br><span class="line">        first &#x3D; next;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        prev.next &#x3D; next;</span><br><span class="line">        x.prev &#x3D; null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (next &#x3D;&#x3D; null) &#123;</span><br><span class="line">        last &#x3D; prev;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        next.prev &#x3D; prev;</span><br><span class="line">        x.next &#x3D; null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    x.item &#x3D; null;</span><br><span class="line">    size--;</span><br><span class="line">    modCount++;</span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">    * Returns the first element in this list.</span><br><span class="line">    * 返回第一个结点值</span><br><span class="line">    * @return the first element in this list</span><br><span class="line">    * @throws NoSuchElementException if this list is empty</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E getFirst() &#123;</span><br><span class="line">       final Node&lt;E&gt; f &#x3D; first;</span><br><span class="line">       if (f &#x3D;&#x3D; null)</span><br><span class="line">           throw new NoSuchElementException();</span><br><span class="line">       return f.item;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Returns the last element in this list.</span><br><span class="line">    * 返回最后一个结点值</span><br><span class="line">    * @return the last element in this list</span><br><span class="line">    * @throws NoSuchElementException if this list is empty</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E getLast() &#123;</span><br><span class="line">       final Node&lt;E&gt; l &#x3D; last;</span><br><span class="line">       if (l &#x3D;&#x3D; null)</span><br><span class="line">           throw new NoSuchElementException();</span><br><span class="line">       return l.item;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Removes and returns the first element from this list.</span><br><span class="line">    * 删除第一个结点</span><br><span class="line">    * @return the first element from this list</span><br><span class="line">    * @throws NoSuchElementException if this list is empty</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E removeFirst() &#123;</span><br><span class="line">       final Node&lt;E&gt; f &#x3D; first;</span><br><span class="line">       if (f &#x3D;&#x3D; null)</span><br><span class="line">           throw new NoSuchElementException();</span><br><span class="line">       return unlinkFirst(f);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Removes and returns the last element from this list.</span><br><span class="line">    * 删除最后一个结点</span><br><span class="line">    * @return the last element from this list</span><br><span class="line">    * @throws NoSuchElementException if this list is empty</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E removeLast() &#123;</span><br><span class="line">       final Node&lt;E&gt; l &#x3D; last;</span><br><span class="line">       if (l &#x3D;&#x3D; null)</span><br><span class="line">           throw new NoSuchElementException();</span><br><span class="line">       return unlinkLast(l);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Inserts the specified element at the beginning of this list.</span><br><span class="line">    * 添加元素到第一个结点</span><br><span class="line">    * @param e the element to add</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public void addFirst(E e) &#123;</span><br><span class="line">       linkFirst(e);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Appends the specified element to the end of this list.</span><br><span class="line">    * 添加元素到最后一个结点</span><br><span class="line">    * &lt;p&gt;This method is equivalent to &#123;@link #add&#125;.</span><br><span class="line">    *</span><br><span class="line">    * @param e the element to add</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public void addLast(E e) &#123;</span><br><span class="line">       linkLast(e);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Returns &#123;@code true&#125; if this list contains the specified element.</span><br><span class="line">    * More formally, returns &#123;@code true&#125; if and only if this list contains</span><br><span class="line">    * at least one element &#123;@code e&#125; such that</span><br><span class="line">    * &lt;tt&gt;(o&#x3D;&#x3D;null&amp;nbsp;?&amp;nbsp;e&#x3D;&#x3D;null&amp;nbsp;:&amp;nbsp;o.equals(e))&lt;&#x2F;tt&gt;.</span><br><span class="line">    * 判断o是否存在LinkedList中</span><br><span class="line">    * @param o element whose presence in this list is to be tested</span><br><span class="line">    * @return &#123;@code true&#125; if this list contains the specified element</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean contains(Object o) &#123;</span><br><span class="line">       return indexOf(o) !&#x3D; -1;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   public int indexOf(Object o) &#123;</span><br><span class="line">       int index &#x3D; 0;</span><br><span class="line">       if (o &#x3D;&#x3D; null) &#123;  &#x2F;&#x2F;如果o是null，也要找链表里面是否存在null值</span><br><span class="line">           for (Node&lt;E&gt; x &#x3D; first; x !&#x3D; null; x &#x3D; x.next) &#123;</span><br><span class="line">               if (x.item &#x3D;&#x3D; null)</span><br><span class="line">                   return index;</span><br><span class="line">               index++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           for (Node&lt;E&gt; x &#x3D; first; x !&#x3D; null; x &#x3D; x.next) &#123;</span><br><span class="line">               if (o.equals(x.item))</span><br><span class="line">                   return index;</span><br><span class="line">               index++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       return -1;</span><br><span class="line">   &#125;</span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Returns the number of elements in this list.</span><br><span class="line">    *</span><br><span class="line">    * @return the number of elements in this list</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public int size() &#123;</span><br><span class="line">       return size;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * Appends the specified element to the end of this list.</span><br><span class="line">    *</span><br><span class="line">    * &lt;p&gt;This method is equivalent to &#123;@link #addLast&#125;.</span><br><span class="line">    *</span><br><span class="line">    * @param e element to be appended to this list</span><br><span class="line">    * @return &#123;@code true&#125; (as specified by &#123;@link Collection#add&#125;)</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean add(E e) &#123;</span><br><span class="line">       linkLast(e);</span><br><span class="line">       return true;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

    

      
  </div>

</article>


  <nav id="pagenavi">
    
    <a href="/2018/12/29/201812/MySQL学习MySQL优化思路与三范式/" class="prev">上一篇：MySQL学习--MySQL优化思路与三范式</a>
    
    
    <a href="/2018/12/26/201812/Java源码分析ArrayList/" class="next">下一篇：Java源码分析--ArrayList</a>
    
  </nav>

        </div>
        
        
      </div>
      <footer id="footer" class="inner">
        © 2021 - Gavin -
        <span id="busuanzi_container_site_pv">PV <span id="busuanzi_value_site_pv"></span></span>
        <p>Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/thinkerchan/hexo-theme-greyshade">GreyShade</a></p>
      </footer>
    </div>
  </div>
  
  <script async defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
</body>
</html>